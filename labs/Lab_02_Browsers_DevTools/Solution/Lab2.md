# Лабораторная работа №2 - Инструменты разработчика в браузере

_В данной работе вы познакомитесь с инструментами разработчика браузеров на примере Chrome. Научитесь использовать их для диагностики некоторых неполадок веб-ресурсов._

_Описание работы:_

_Работа состоит из нескольких связанных между собой заданий. Предпочтительно для выполнения работы использовать браузер Google Chrome. В других современных браузерах тоже имеются инструменты разработчика и их функционала достаточно для выполнения данных заданий, но отличия в интерфейсе самых инструментов может сильно затруднить вашу задачу._

## Задание 1

_Исследование заголовков и тела обычных запросов и их ответов.
В используемом браузере заблаговременно откройте инструменты разработчика, после чего перейдите по ссылке https://ya.ru/ и изучите во вкладке Network инструментов разработчика заголовки основного запроса и ответа на него:_

- Request URL
- Request Method
- Status Code
- Remote Address
- Referrer Policy
- content-type
- cache-control
- cookie
- user-agent
- referer

_Ответьте на вопросы:_

- Что означает каждый из этих заголовков?
- Из каких частей состоит Remote Address?
- Что означает порт подключения? — опишите как вы это понимаете своими словами
- На какие секции разделены все заголовки? Какой смысл у каждой секции?
- Какие заголовки повторяются в нескольких секциях? Какой в этом смысл?
- Что из себя представляет тело ответа?

### Вопрос 1

_Означение заголовков:_

- Request URL: URL-адрес, по которому отправляется запрос.
- Request Method: метод HTTP-запроса, используемый при отправке.
- Status Code: код состояния HTTP-ответа, который указывает на успешность или ошибку выполнения запроса.
- Remote Address: IP-адрес сервера, к которому был отправлен запрос.
- Referrer Policy: политика, определяющая, как должен быть обрабатывается заголовок Referer при переходе от одного ресурса к другому.
- Content-type: тип контента, который отправляется или получается в запросе или ответе.
- Cache-control: инструкция для кэширования данных.
- Cookie: информация о сохраненных куках (небольшой фрагмент данных, отправляемый сервером и хранимый на компьютере пользователя).
- User-agent: информация о браузере или программе, которая отправляет запрос.
- Referer: URL-адрес страницы, с которой был осуществлен переход на текущую страницу.

### Вопрос 2

_Remote Address состоит из двух частей: IP-адреса и порта. IP-адрес - уникальный идентификатор, который указывает на местоположение сервера, к которому отправляется запрос. Порт - номер, указывающий на конкретное подключение на сервере._

### Вопрос 3

_Порт подключения - это номер, который используется для установки соединения между компьютером клиента и сервером. В сети TCP/IP каждому приложению или службе присваивается уникальный номер порта для обмена данными с другими компьютерами. Порт подключения может быть любым числом от 0 до 65535. Когда клиент отправляет запрос на сервер, эти номера портов используются для правильной маршрутизации данных между соединениями._

### Вопрос 4

_Все заголовки разделены на следующие секции:_

- General (Общая информация): содержит общую информацию о запросе или ответе, такую как URL-адрес, метод, код состояния, политика рефера и т.д.
- Response Headers (Заголовки ответа): содержит информацию, возвращаемую сервером в ответ на запрос, такую как тип контента, дата, кэш-контроль, дополнительные параметры безопасности и т.д.
- Request Headers (Заголовки запроса): содержит информацию, отправляемую клиентом в запросе, такую как тип контента, cookie, данные пользователя и т.д.
- Query String Parameters (Параметры строки запроса): содержит дополнительные параметры, передаваемые в URL-адресе.
- Form Data (Данные формы): содержит данные формы, которые отправляются на сервер методом POST.

### Вопрос 5

_Некоторые заголовки могут повторяться в разных секциях. Например, заголовки Content-type и Cache-control могут указываться как в Request Headers, так и в Response Headers. Это позволяет клиенту и серверу легко обмениваться информацией о типе контента и инструкциях для кэширования._

### Вопрос 6

_Тело ответа представляет собой содержимое, возвращаемое сервером в ответ на запрос. Это может быть HTML-код, JSON-данные, изображение и т.д. Тело ответа может быть представлено в виде текста или двоичных данных._

## Задание 2

_При открытых во вкладке инструментах разработчика сделайте запрос на http://rgups.ru/ и обратите внимание на то изменился ли адрес в адресной строке? - Если Вы всё правильно сделали, то он должен был немного измениться._

_Изучите из-за чего так произошло и ответьте на вопросы:_
- Из-за чего произошло изменение адреса в адресной строке? Какие заголовки в этом поучаствовали и как?
- Адрес был изменён в исходном запросе или потребовались дополнительные запросы, если были дополнительные запросы, то сколько?
- Какой статус ответа имеет первоначальный запрос?

### Вопрос 1
#### Ответ на первый вопрос в первом вопросе:
_Изменение адреса в адресной строке произошло из-за перенаправления. Здесь использовался статус ответа HTTP 301 Moved Permanently._
#### Ответ на второй вопрос в первом вопросе:
_При первоначальном запросе на http://rgups.ru/, сервер отвечает с заголовком Location, который указывает новый адрес, на который нужно перейти. Браузер автоматически выполняет дополнительный запрос на новый адрес._

### Вопрос 2
_Таким образом, адрес в адресной строке изменился из-за перенаправления. В данном случае был выполнен один дополнительный запрос. При перенаправлении с http:// на https://, адрес изменяется в исходном запросе, и это обычно выполняется с помощью одного дополнительного запроса._

### Вопрос 3

_Статус ответа первоначального запроса был:_ __301 Moved Permanently__

## Задание 3

_Повторите запрос на https://ya.ru/ и изучите заголовки влияющие на получение и отправку cookie параметров._

_После чего:_
1. Перечислите название этих параметров и формат данных в них.
2. Как можно удобно просмотреть все cookie, используемые на странице? Что означают их параметры Name, Value, Domain, Path и Expires?
3. Как просмотреть все cookie связанные с текущим (просматриваемым) сайтом?
4. Опишите своими словами как вы понимаете суть и назначение cookie?

### Вопрос 1
_После повторения запроса на https://ya.ru/ и изучения заголовков, связанных с параметрами cookie, я обнаружил следующие названия параметров и форматы данных в них:_

_Название параметра: "Set-Cookie"
Формат данных: name=value; option1; option2; ..._

_Название параметра: "Cookie"
Формат данных: name1=value1; name2=value2; ..._

### Вопрос 2

_Инструменты разработчика в браузере позволяют удобно просматривать все cookie, используемые на странице._

### Вопрос 3

- Открыть инструменты разработчика. Для этого можно использовать сочетание клавиш Ctrl+Shift+I (или Cmd+Option+I на macOS), а затем перейти на вкладку "Application" (Приложение).
- В боковой панели выбрать раздел "Storage" (Хранилище).
- Раскрыть пункт "Cookies" (Cookie) в боковой панели.

### Вопрос 4

_Cookie - это  ~~печенька~~ небольшие текстовые файлы, которые веб-сервер отправляет на компьютер пользователя, а затем браузер хранит их на стороне клиента._

## Задание 4

_Исследование построения документов и сопутствующих запросов.
Изучите вкладку Elements и дерево тегов документа. Изучите список запросов на вкладке Network._

_Ответьте на вопросы:_
- Что такое DOM? — Опишите своими словами
- Может ли итоговый документ отличаться от тела ответа, полученного от сервера? Если да, то по каким причинам это может происходить?
- Почему если вы сделали всего один запрос, в списке огромное количество запросов и ответов? Что они из себя представляют и на каком основании браузер их делает?

### Вопрос 1

_DOM (Document Object Model) - это программное представление веб-страницы, которое позволяет взаимодействовать с содержимым HTML-документа. DOM представляет документ в виде дерева объектов, где каждый элемент HTML становится объектом, а вложенность элементов отражается в структуре этого дерева. DOM предоставляет API для получения, изменения и удаления элементов, а также для привязки событий и выполнения других операций над содержимым страницы._

### Вопрос 2

_Итоговый документ может отличаться от тела ответа, полученного от сервера. Это может происходить по следующим причинам:_

- JavaScript: После того, как браузер получает основное содержимое страницы (тело ответа), JavaScript может изменить DOM, добавлять, изменять или удалять элементы, обновлять данные, выполнять асинхронные запросы и т. д. Такие изменения могут привести к изменению итогового документа, который отображается пользователю.

- CSS: Стили CSS могут быть применены к элементам страницы после загрузки основного содержимого. CSS может изменять внешний вид элементов, и поэтому итоговый документ может выглядеть иначе, чем тело ответа от сервера.

- Асинхронные запросы: Веб-страницы могут содержать код, который выполняет дополнительные запросы к серверу после загрузки основного содержимого. Такие запросы могут возвращать дополнительные данные, которые затем добавляются в DOM и изменяют итоговый документ.

### Вопрос 3

_Когда вы делаете один запрос, в списке может быть огромное количество запросов и ответов из-за различных факторов:_

- Ресурсы страницы: Когда браузер загружает веб-страницу, он может сделать дополнительные запросы для получения ресурсов, таких как изображения, стили CSS, скрипты JavaScript и другие файлы. Эти запросы и ответы на них могут появиться в списке.

- Перенаправления: Если сервер делает перенаправление (например, со статусом 302 Found), браузер может выполнять дополнительные запросы для получения перенаправленной страницы и связанных ресурсов.

- AJAX-запросы и другие асинхронные запросы: Веб-страницы могут использовать JavaScript для выполняния асинхронных запросов (например, AJAX) для получения данных дополнительно к основному запросу. Эти дополнительные запросы также могут быть отображены в списке.

_Браузер делает запросы и получает ответы на основе ресурсов, необходимых для отображения полной веб-страницы, и действий, которые выполняются на стороне клиента, таких как выполнение JavaScript-кода и применение стилей CSS._

## Задание 5

1. _Запрос к какому эндпоинту необходимо выполнить для получения вашего расписания:_

        Запрос к schedule.php

2. _Что содержится в теле ответа:_

        Часть HTML-кода, тип которого указан во вкладке Header Content-Type: text/html; charset=UTF-8
3. _Какого типа запрос вы выполнили?_

        POST - запрос
4. Какие данные вы использовали для получения расписания
    -       action: timetable
    -       fac-id: 1
    -       course-id: 3
    -       group-id: 26463
    -       edu-type: internal